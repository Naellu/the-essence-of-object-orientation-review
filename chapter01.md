# 01.협력하는 객체들의 공동체

> "시너지를 생각하라. 전체는 부분의 합보다 크다"  - 스티븐 코비(Stephen R. Covey)

카페의 한 상황을 예시로 들어 전체적인 객체지향의 관점을 설명하였다

손님과 캐시어와 바리스타의 관계에서

- 손님은 커피를 주문하는 **역할**과 **책임**이 있고,
- 캐시어는 주문을 받는 **역할**과 **책임**이 있고,
- 바리스타는 들어온 주문의 커피를 만들 **역할**과 **책임**이 있다

이 과정은 모두 각자 맡은 역할 내에서 맞닥뜨린 문제를 해결하기 위해 서로 `협력`하는 모습이다

객체지향의 세계에서도 가장 중요한 개념 세가지인 `역할`, `책임`, `협력`을 강조하고 있다  
그리고 손님의 입장에선 커피를 혼자 만들어먹을 수 없기 때문에  
이 문제를 `요청(request)`을 통해 도와달라고 말하고, 그렇게 해결된 문제는 `응답(response)`의 형태인 커피로 받게 된다

<br>

### 역할, 책임, 협력

협력하는 관계에서 `역할`과 `책임`에 몇가지 중요 개념이 있다
- 여러 사람이 동일한 `역할`을 수행할 수 있다
- `역할`은 했던사람이 아니라 **누군가가 대신해도 대체할 수 있는** 대체가능성이 있다
- `책임`을 수행하는 방법은 `역할`을 맡은 사람이 **자율적**으로 선택할 수 있다
- 한 사람이 동시에 여러 `역할`을 수행할 수 있다

이렇게 어떤 문제를 해결하기 위해 협력하는 관계에서 사람들, 즉 객체들은 `협력적`이고 `자율적`이어야 한다  
협력적이지 않으면 한 객체에 너무 많은 역할이 있어 유지보수가 힘들 것이고  
자율적이지 않다면 다른 객체들간 결속적이 강해져 역시 유지보수가 힘들 것이라고 생각한다

<br>

### 상태와 행동, 메시지

객체는 `상태(state)`와 `행동(behavior)`을 함께 가지고 있어야 한다  
바리스타를 잠깐 예로 들면  
주문이 들어온 커피를 만드는 `행동`을 위해서는 여러가지 커피 제조법을 알고있는 `상태`가 있어야 한다는 것이다

<br>

사람들이 메일, 문자, 전화 등의 통신수단으로 대화를 하듯 객체들은 오직 `메시지(message)`로만 의사소통을 한다  
앞서말한 `요청(request)`과 `응답(response)`이 메시지를 주고 받는 것이다

메시지를 보낸 객체(외부)는 메시지를 받은 객체(자기자신)가  
**무엇을(what)** 하는지는 알 수 있지만 **어떻게(how)** 하는지는 몰라야 한다  
외부에 의존하지 말고 스스로가 해결하게 만듬으로써 객체의 자율성을 보장하는 것이다

또한 메시지를 받으면 메시지를 받은 객체는 처리 방법을 어떻게 할지 미리 정의된 `메서드(method)`를 골라서 처리할 수 있다

외부의 메시지와 해당 요청을 처리하기 위해 메서드를 분리하는 건 **객체의 자율성을 높이는** 핵심 메커니즘이다  
이것은 `캡슐화(encapsulation)`의 개념과 깊이 관련되어있다

<br>

### 객체를 지향하라

흔히 객체지향이라하면 클래스와 메서드 위주의 설계를 먼저 생각하는데    
물론 클래스가 중요한 건 맞다  
**하지만 객체지향에선 어떤 객체들이 어떤 메시지를 주고받으며 협력하는지를 생각해야한다**

클래스들의 `정적인 관계`가 아니라 메시지를 주고받는 객체들의 `동적인 관계`가 더욱 중요하다  
결론적으로 객체의 `역할`, `책임`, `협력`에 집중해야한다

